pico-8 cartridge // http://www.pico-8.com
version 35
__lua__
function round(x)
  return flr(x+0.5)
end

function spr_r(n,x,y,s,a)
  local sx,sy,ca,sa,ds=
    n%16*8,n\16*8,
    cos(a),sin(a),
    s-1>>1
  for dx=-ds,ds do
    for dy=-ds,ds do
      local srcx,srcy=
        round(ds+dx*ca-dy*sa),
        round(ds+dx*sa+dy*ca)
      local c=sget(sx+srcx,sy+srcy)
      if c~=0 and srcx\s|srcy\s==0 then
        pset(x+dx+ds,y+dy+ds,c)
      end
    end
  end
end

a=0
t=0
function _draw()
	cls()
	t=(t+1)%30
	if t==0 then 
		a=0
 end 	
 
 if t==10 or t==11 then
 	a+=1/10
	elseif t>=12 and t<18 and t%2==0 then
		a+=1/5
	end 
	if t==18 or t==19 then
		a+=1/10
	end 
	
	if abs(a-3/5)<0.01 then
		spr(3,56,56,2,2)
	else
	 spr_r(1,56,56,16,a/4+(a<3/5 and 0 or 3/4))
	end 
	print(a.." "..t,100,0,7)
end





__gfx__
00000000000007000070000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000007500570000000000777000770000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000007500570000000000057000077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000006500560000000000005600057000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000006500560000000775500560650000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700776606500560667707006650560650000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000005556022065550000000002205500070000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000287200000000066528720000700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000288200000000755028825507500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000005556022065550007700502206655000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000776606500560667707005650050000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000006500560000000005065056000700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000006500560000000750065005677000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000007500570000000750065000550000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000007500570000000070006700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000007000070000000000000070000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
